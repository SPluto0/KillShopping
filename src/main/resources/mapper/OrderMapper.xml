<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kill.killshopping.mapper.OrderMapper">
    <resultMap id="BaseResultMap" type="com.kill.killshopping.domain.entity.Goods" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Feb 07 09:55:47 CST 2018.
        -->
        <id column="goods_id" property="goodsId" jdbcType="INTEGER" />
        <result column="cat_id" property="catId" jdbcType="INTEGER" />
        <result column="extend_cat_id" property="extendCatId" jdbcType="INTEGER" />
        <result column="goods_sn" property="goodsSn" jdbcType="VARCHAR" />
        <result column="goods_name" property="goodsName" jdbcType="VARCHAR" />
        <result column="click_count" property="clickCount" jdbcType="INTEGER" />
        <result column="brand_id" property="brandId" jdbcType="SMALLINT" />
        <result column="store_count" property="storeCount" jdbcType="SMALLINT" />
        <result column="comment_count" property="commentCount" jdbcType="SMALLINT" />
        <result column="weight" property="weight" jdbcType="INTEGER" />
        <result column="market_price" property="marketPrice" jdbcType="DECIMAL" />
        <result column="shop_price" property="shopPrice" jdbcType="DECIMAL" />
        <result column="cost_price" property="costPrice" jdbcType="DECIMAL" />
        <result column="keywords" property="keywords" jdbcType="VARCHAR" />
        <result column="goods_remark" property="goodsRemark" jdbcType="VARCHAR" />
        <result column="original_img" property="originalImg" jdbcType="VARCHAR" />
        <result column="is_real" property="isReal" jdbcType="TINYINT" />
        <result column="is_on_sale" property="isOnSale" jdbcType="BIT" />
        <result column="is_free_shipping" property="isFreeShipping" jdbcType="BIT" />
        <result column="on_time" property="onTime" jdbcType="INTEGER" />
        <result column="sort" property="sort" jdbcType="SMALLINT" />
        <result column="is_recommend" property="isRecommend" jdbcType="BIT" />
        <result column="is_new" property="isNew" jdbcType="BIT" />
        <result column="is_hot" property="isHot" jdbcType="BIT" />
        <result column="last_update" property="lastUpdate" jdbcType="INTEGER" />
        <result column="goods_type" property="goodsType" jdbcType="SMALLINT" />
        <result column="spec_type" property="specType" jdbcType="SMALLINT" />
        <result column="give_integral" property="giveIntegral" jdbcType="INTEGER" />
        <result column="exchange_integral" property="exchangeIntegral" jdbcType="INTEGER" />
        <result column="suppliers_id" property="suppliersId" jdbcType="SMALLINT" />
        <result column="sales_sum" property="salesSum" jdbcType="INTEGER" />
        <result column="prom_type" property="promType" jdbcType="BIT" />
        <result column="prom_id" property="promId" jdbcType="INTEGER" />
        <result column="commission" property="commission" jdbcType="DECIMAL" />
        <result column="spu" property="spu" jdbcType="VARCHAR" />
        <result column="sku" property="sku" jdbcType="VARCHAR" />
        <result column="shipping_area_ids" property="shippingAreaIds" jdbcType="VARCHAR" />
        <result column="catName" property="catName" jdbcType="VARCHAR" />
        <result column="catParentIdPath" property="catParentIdPath" jdbcType="VARCHAR" />
    </resultMap>

    <sql id="Base_Column_List" >
        goods_id, cat_id, extend_cat_id, goods_sn, goods_name, click_count, brand_id, store_count,
        comment_count, weight, market_price, shop_price, cost_price, keywords, goods_remark,
        original_img, is_real, is_on_sale, is_free_shipping, on_time, sort, is_recommend,
        is_new, is_hot, last_update, goods_type, spec_type, give_integral, exchange_integral,
        suppliers_id, sales_sum, prom_type, prom_id, commission, spu, sku, shipping_area_ids
    </sql>

    <sql id="Blob_Column_List" >
        goods_content
    </sql>


    <resultMap id="ResultMapWithBLOBs" type="com.kill.killshopping.domain.entity.Goods" extends="BaseResultMap">
        <result column="goods_content" property="goodsContent" jdbcType="LONGVARCHAR" />
    </resultMap>



    <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer" >
        select
        <include refid="Base_Column_List" />
        ,
        <include refid="Blob_Column_List" />
        from tp_goods
        where goods_id = #{goodsId,jdbcType=INTEGER}
    </select>



    <insert id="insert" parameterType="com.kill.killshopping.domain.entity.Order" useGeneratedKeys="true" keyProperty="orderId">
        insert into tp_order (order_id, order_sn, user_id,
        order_status, shipping_status, pay_status,
        consignee, area, address,
        zipcode, mobile, email,
        shipping_code, shipping_name, pay_code,
        pay_name, invoice_title, goods_price,
        shipping_price, user_money, coupon_price,
        integral, integral_money, order_amount,
        total_amount, add_time, shipping_time,
        confirm_time, pay_time, order_prom_id,
        order_prom_amount, discount, user_note,
        admin_note, parent_sn, is_distribut,
        receive_time)
        values (#{orderId,jdbcType=INTEGER}, #{orderSn,jdbcType=VARCHAR}, #{userId,jdbcType=VARCHAR},
        #{orderStatus,jdbcType=INTEGER}, #{shippingStatus,jdbcType=INTEGER}, #{payStatus,jdbcType=INTEGER},
        #{consignee,jdbcType=VARCHAR}, #{area,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR},
        #{zipcode,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR},
        #{shippingCode,jdbcType=VARCHAR}, #{shippingName,jdbcType=VARCHAR}, #{payCode,jdbcType=VARCHAR},
        #{payName,jdbcType=VARCHAR}, #{invoiceTitle,jdbcType=VARCHAR}, #{goodsPrice,jdbcType=DECIMAL},
        #{shippingPrice,jdbcType=DECIMAL}, #{userMoney,jdbcType=DECIMAL}, #{couponPrice,jdbcType=DECIMAL},
        #{integral,jdbcType=INTEGER}, #{integralMoney,jdbcType=DECIMAL}, #{orderAmount,jdbcType=DECIMAL},
        #{totalAmount,jdbcType=DECIMAL}, #{addTime,jdbcType=BIGINT}, #{shippingTime,jdbcType=BIGINT},
        #{confirmTime,jdbcType=BIGINT}, #{payTime,jdbcType=BIGINT}, #{orderPromId,jdbcType=SMALLINT},
        #{orderPromAmount,jdbcType=DECIMAL}, #{discount,jdbcType=DECIMAL}, #{userNote,jdbcType=VARCHAR},
        #{adminNote,jdbcType=VARCHAR}, #{parentSn,jdbcType=VARCHAR}, #{isDistribut,jdbcType=BIT},
        #{receiveTime,jdbcType=BIGINT})
    </insert>
</mapper>